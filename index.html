<html>
	<head>
		<link rel="stylesheet" type="text/css" href="style.css">
	</head>
	<body id = "htmlbody">
		<div class = "buttons">
			<button onclick = "LoadBlog();">
				Blog
			</button>
			<button onclick = "LoadPortfolio();">
				Portfolio
			</button>
		</div>
	</body>
	<script type="text/javascript">
		// var cur = 0;
		// var currentGoal = 2;
		function LoadPortfolio()
		{
			var func = function(xmlHttpResponse)
			{
				document.getElementById("htmlbody").innerHTML = xmlHttpResponse;
			}
			LoadPageAjax(func, "mainpages/portfolio.html", false);
			LoadPortfolioPages();
			SetTrap();
		}
		function LoadPortfolioPages()
		{

		}
		function SetTrap()
		{
			var classes = document.getElementsByClassName("hey");
			for (var indivClass in classes)
			{
				indivClass.addEventListener("click", function(){Trap(0,2)});
			}
		}
		function Trap(cur, curGoal)
		{
			if (cur === curGoal)
			{
				window.open("http://heyyeyaaeyaaaeyaeyaa.com/", "_blank")
			}
			cur += 1;
			for (var indivClass in document.getElementsByClassName("hey"))
			{
				var clone = indivClass.cloneNode(true);
				indivClass.parentNode.replaceChild(indivClass, clone);
				clone.addEventListener("click", function(){Trap(cur, curGoal * 2)});
			}
		}
		function LoadBlog()
		{
			var func = function(xmlHttpResponse)
			{
				document.getElementById("htmlbody").innerHTML = xmlHttpResponse;
			}
			LoadPageAjax(func, "mainpages/blog.html", false);
			LoadBlogPages();
		}
		function LoadBlogPages()
		{
			var pages = [["11-3-2014.html", "./pictures/foggy.jpg"], ["10-13-2014.html","./pictures/forest.jpg"], ["9-22-2014.html", "./pictures/galaxy.jpg"], ["9-8-2014.html","./pictures/theworldisflat.jpg"], ["8-24-2014.html","./pictures/mountains.jpg"]];
			for (pageIndex in pages)
			{
				var page = ("blog/" + pages[pageIndex][0]);
				var func = function(xmlHttpResponse)
				{
					document.getElementById("pagesDiv").innerHTML += xmlHttpResponse;
				}

				LoadPageAjax(func, page, false);
			}
			var pageClasses = document.getElementsByClassName("blogPost");
			for (pageIndex in pageClasses)
			{
				pageClasses[pageIndex].style.background = "url(" + pages[pageIndex][1] + ") no-repeat";
				pageClasses[pageIndex].style.backgroundSize = "cover";
			}
		}
		function LoadPageAjax(behaviorFunction, pageName, isAsync)
		{
			var xmlHttp = new XMLHttpRequest();
			xmlHttp.onreadystatechange = function()
			{
				if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
				{
					behaviorFunction(xmlHttp.responseText);
				}
				else if (xmlHttp.status == 404)
				{
					behaviorFunction("Error.");
				}
			}
			xmlHttp.open("GET", pageName, isAsync);
			xmlHttp.send();
		}
	</script>
</html>
