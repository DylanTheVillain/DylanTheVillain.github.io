<html>
	<head>
		<link rel="stylesheet" type="text/css" href="style.css">
	</head>
	<body id = "htmlbody">
	</body>
	<script type="text/javascript">
		function LoadBlog()
		{
			LoadPageAjax("htmlbody", "mainpages/blog.html", false);
			LoadPages();
		}
		function LoadPages()
		{
			var pages = [["11-3-2014.html", "./pictures/foggy.jpg"], ["10-13-2014.html","./pictures/forest.jpg"], ["9-22-2014.html", "./pictures/galaxy.jpg"], ["9-8-2014.html","./pictures/theworldisflat.jpg"], ["8-24-2014.html","./pictures/mountains.jpg"]];
			for (pageIndex in pages)
			{
				var page = ("blog/" + pages[pageIndex][0]);
				LoadPageAjax("pagesDiv", page, false);
			}
			var pageClasses = document.getElementsByClassName("blogPost");
			for (pageIndex in pageClasses)
			{
				var page = pageClasses[pageIndex];
				var image = pages[pageIndex][1];
				page.style.background = "url(" + image + ") no-repeat";
				page.style.backgroundSize = "cover";
			}
		}
		function LoadPageAjax(divId, pageName, isAsync)
		{
			var xmlHttp = new XMLHttpRequest();
			xmlHttp.onreadystatechange = function()
			{
				if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
				{
					document.getElementById(divId).innerHTML += xmlHttp.responseText;
				}
				else if (xmlHttp.status == 404)
				{
					document.getElementById(divId).innerHTML += "Error.";
				}
			}
			xmlHttp.open("GET", pageName, isAsync);
			xmlHttp.send();
		}
		LoadBlog();
	</script>
</html>
